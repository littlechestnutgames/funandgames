{
    "format_version": "1.16.100",
    "minecraft:entity": {
        "description": {
            "identifier": "glc:square",
            "is_summonable": true
        },
        "component_groups": {
            "despawn": {
                "minecraft:despawn": {
                    "filters": {"test": "is_visible", "value": true}
                }
            }
        },
        "components": {
            "minecraft:health": {
                "value": 1,
                "max": 1
            },
            "minecraft:pushable": {
                "is_pushable": false,
                "is_pushable_by_piston": false
            },
            "minecraft:interact": {
                "interactions": [
                    {
                        "interact_text": "Move Here",
                        "on_interact": { "event": "move_piece_here" }
                    }
                ]
            },
            "minecraft:conditional_bandwidth_optimization": {}
        },
        "minecraft:damage_sensor": {
            "triggers": {
                "cause": "all",
                "deals_damage": false
            }
        },
        "events": {
            "force_despawn": {
                "add": { "component_groups": ["despawn"] }
            },
            "move_piece_here": {
                "sequence": [
                    {"run_command": {"command": "tp @e[type=glc:chessmen,tag=selected] @s"}},
                    {"run_command": {"command": "event entity @e[type=glc:chessmen,tag=selected] moved"}}
                ]
            }
        }   
    }
}
